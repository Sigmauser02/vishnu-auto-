<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vishnu Auto - Bike Repair & Parts</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode-generator/1.4.4/qrcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>
    <style>
        /* RESET & BASE STYLES */
        :root {
            --primary: #2c3e50;
            --secondary: #e74c3c;
            --accent: #3498db;
            --light: #ecf0f1;
            --dark: #2c3e50;
            --success: #27ae60;
            --warning: #f39c12;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f9f9f9;
            color: #333;
            line-height: 1.6;
            overflow-x: hidden;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        section {
            padding: 80px 0;
        }

        h1, h2, h3, h4 {
            margin-bottom: 1rem;
            color: var(--dark);
        }

        p {
            margin-bottom: 1rem;
        }

        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: var(--secondary);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
            text-decoration: none;
            transition: var(--transition);
            text-align: center;
        }

        .btn:hover {
            background-color: #c0392b;
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        .btn-secondary {
            background-color: var(--accent);
        }

        .btn-secondary:hover {
            background-color: #2980b9;
        }

        .btn-outline {
            background-color: transparent;
            border: 2px solid var(--secondary);
            color: var(--secondary);
        }

        .btn-outline:hover {
            background-color: var(--secondary);
            color: white;
        }

        .section-title {
            text-align: center;
            margin-bottom: 3rem;
            position: relative;
        }

        .section-title::after {
            content: '';
            display: block;
            width: 80px;
            height: 4px;
            background-color: var(--secondary);
            margin: 10px auto;
        }

        /* HEADER & NAVIGATION */
        header {
            background-color: white;
            box-shadow: var(--shadow);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
        }

        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
            display: flex;
            align-items: center;
        }

        .logo i {
            color: var(--secondary);
            margin-right: 10px;
        }

        .nav-links {
            display: flex;
            list-style: none;
        }

        .nav-links li {
            margin-left: 30px;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--dark);
            font-weight: 500;
            transition: var(--transition);
            position: relative;
        }

        .nav-links a:hover {
            color: var(--secondary);
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background-color: var(--secondary);
            transition: var(--transition);
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        .nav-icons {
            display: flex;
            align-items: center;
        }

        .nav-icon {
            margin-left: 20px;
            font-size: 1.2rem;
            color: var(--dark);
            cursor: pointer;
            transition: var(--transition);
            position: relative;
        }

        .nav-icon:hover {
            color: var(--secondary);
        }

        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background-color: var(--secondary);
            color: white;
            font-size: 0.7rem;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .mobile-menu-btn {
            display: none;
            font-size: 1.5rem;
            cursor: pointer;
        }

        /* HERO SECTION */
        .hero {
            height: 100vh;
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), 
                        url('https://images.unsplash.com/photo-1558618666-fcd25856cd63?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80') no-repeat center center/cover;
            display: flex;
            align-items: center;
            text-align: center;
            color: white;
            margin-top: 70px;
        }

        .hero-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
            color: white;
            animation: fadeInUp 1s ease;
        }

        .hero p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            animation: fadeInUp 1s ease 0.2s both;
        }

        .hero-btns {
            display: flex;
            justify-content: center;
            gap: 20px;
            animation: fadeInUp 1s ease 0.4s both;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* SERVICES SECTION */
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }

        .service-card {
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .service-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .service-icon {
            background-color: var(--primary);
            color: white;
            font-size: 2.5rem;
            padding: 20px;
            text-align: center;
        }

        .service-content {
            padding: 25px;
        }

        .service-content h3 {
            margin-bottom: 15px;
        }

        /* PARTS SHOP */
        .parts-filter {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .filter-btn {
            padding: 8px 16px;
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
            transition: var(--transition);
        }

        .filter-btn.active, .filter-btn:hover {
            background-color: var(--secondary);
            color: white;
            border-color: var(--secondary);
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 30px;
        }

        .product-card {
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .product-card:hover {
            transform: translateY(-5px);
        }

        .product-img {
            height: 200px;
            background-color: #f5f5f5;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .product-img img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            transition: var(--transition);
        }

        .product-card:hover .product-img img {
            transform: scale(1.05);
        }

        .product-content {
            padding: 20px;
        }

        .product-price {
            font-weight: 700;
            color: var(--secondary);
            font-size: 1.2rem;
            margin: 10px 0;
        }

        .product-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
        }

        /* CART */
        .cart-sidebar {
            position: fixed;
            top: 0;
            right: -1000px;
            width: 100%;
            max-width: 100px;
            height: 100vh;
            background-color: white;
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
            z-index: 1001;
            transition: var(--transition);
            overflow-y: auto;
            padding: 20px;
        }

        .cart-sidebar.active {
            right: 0;
        }

        .cart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }

        .close-cart {
            font-size: 1.5rem;
            cursor: pointer;
        }

        .cart-items {
            margin-bottom: 20px;
        }

        .cart-item {
            display: flex;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }

        .cart-item-img {
            width: 80px;
            height: 80px;
            background-color: #f5f5f5;
            border-radius: 4px;
            margin-right: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .cart-item-img img {
            max-width: 100%;
            max-height: 100%;
        }

        .cart-item-details {
            flex: 1;
        }

        .cart-item-title {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .cart-item-price {
            color: var(--secondary);
            font-weight: 600;
        }

        .cart-item-actions {
            display: flex;
            align-items: center;
            margin-top: 10px;
        }

        .quantity-btn {
            width: 30px;
            height: 30px;
            background-color: #f5f5f5;
            border: none;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        .quantity-input {
            width: 40px;
            height: 30px;
            text-align: center;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin: 0 5px;
        }

        .remove-item {
            color: #e74c3c;
            margin-left: 10px;
            cursor: pointer;
        }

        .cart-summary {
            border-top: 1px solid #eee;
            padding-top: 20px;
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .summary-total {
            font-weight: 700;
            font-size: 1.2rem;
            border-top: 1px solid #eee;
            padding-top: 10px;
            margin-top: 10px;
        }

        .promo-code {
            display: flex;
            margin: 15px 0;
        }

        .promo-input {
            flex: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px 0 0 4px;
        }

        .apply-promo {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 0 15px;
            border-radius: 0 4px 4px 0;
            cursor: pointer;
        }

        /* MODALS */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1002;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .modal.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background-color: white;
            border-radius: 8px;
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            padding: 30px;
            position: relative;
            transform: translateY(20px);
            transition: var(--transition);
        }

        .modal.active .modal-content {
            transform: translateY(0);
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .form-control {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }

        .form-control:focus {
            border-color: var(--accent);
            outline: none;
        }

        /* CHECKOUT */
        .checkout-steps {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            position: relative;
        }

        .checkout-steps::before {
            content: '';
            position: absolute;
            top: 15px;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: #eee;
            z-index: 1;
        }

        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 2;
        }

        .step-icon {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background-color: #eee;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 5px;
            font-size: 0.8rem;
        }

        .step.active .step-icon {
            background-color: var(--secondary);
            color: white;
        }

        .step.completed .step-icon {
            background-color: var(--success);
            color: white;
        }

        .payment-methods {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 20px 0;
        }

        .payment-method {
            border: 2px solid #eee;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .payment-method:hover, .payment-method.active {
            border-color: var(--accent);
        }

        .payment-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            color: var(--primary);
        }

        .upi-qr-container {
            text-align: center;
            margin: 20px 0;
            padding: 20px;
            border: 1px solid #eee;
            border-radius: 8px;
        }

        #upi-qr-code {
            margin: 15px auto;
            display: block;
        }

        /* ADMIN PANEL */
        .admin-panel {
            display: none;
            padding: 100px 0 50px;
            background-color: #f5f5f5;
            min-height: 100vh;
        }

        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .admin-tabs {
            display: flex;
            border-bottom: 1px solid #ddd;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .admin-tab {
            padding: 12px 20px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: var(--transition);
        }

        .admin-tab.active {
            border-bottom-color: var(--secondary);
            color: var(--secondary);
            font-weight: 600;
        }

        .admin-content {
            background-color: white;
            border-radius: 8px;
            box-shadow: var(--shadow);
            padding: 25px;
        }

        .admin-table {
            width: 100%;
            border-collapse: collapse;
            overflow-x: auto;
            display: block;
        }

        .admin-table th, .admin-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        .admin-table th {
            background-color: #f9f9f9;
            font-weight: 600;
        }

        .admin-table tr:hover {
            background-color: #f5f5f5;
        }

        .table-actions {
            display: flex;
            gap: 10px;
        }

        .action-btn {
            padding: 5px 10px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8rem;
        }

        .edit-btn {
            background-color: var(--accent);
            color: white;
        }

        .delete-btn {
            background-color: var(--secondary);
            color: white;
        }

        .low-stock {
            color: var(--warning);
            font-weight: 600;
        }

        .out-of-stock {
            color: var(--secondary);
            font-weight: 600;
        }

        .dashboard-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .dashboard-card {
            background-color: white;
            border-radius: 8px;
            box-shadow: var(--shadow);
            padding: 25px;
            text-align: center;
        }

        .card-value {
            font-size: 2.5rem;
            font-weight: 700;
            margin: 10px 0;
        }

        .card-icon {
            font-size: 2rem;
            color: var(--accent);
            margin-bottom: 15px;
        }

        /* ADMIN FORMS */
        .admin-form {
            background-color: white;
            border-radius: 8px;
            box-shadow: var(--shadow);
            padding: 25px;
            margin-bottom: 30px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .form-actions {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 20px;
        }

        /* ADMIN LOGIN MODAL */
        .admin-login-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1003;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .admin-login-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .login-box {
            background-color: white;
            border-radius: 8px;
            box-shadow: var(--shadow);
            padding: 40px;
            width: 100%;
            max-width: 400px;
        }

        .login-title {
            text-align: center;
            margin-bottom: 30px;
        }

        /* ADMIN ACCESS BUTTON */
        .admin-access-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background-color: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: var(--shadow);
            z-index: 999;
            transition: var(--transition);
        }

        .admin-access-btn:hover {
            background-color: var(--secondary);
            transform: scale(1.1);
        }

        /* FOOTER */
        footer {
            background-color: var(--primary);
            color: white;
            padding: 60px 0 30px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-column h3 {
            color: white;
            margin-bottom: 20px;
            position: relative;
        }

        .footer-column h3::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 40px;
            height: 3px;
            background-color: var(--secondary);
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 10px;
        }

        .footer-links a {
            color: #ddd;
            text-decoration: none;
            transition: var(--transition);
        }

        .footer-links a:hover {
            color: white;
            padding-left: 5px;
        }

        .social-links {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .social-link {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .social-link:hover {
            background-color: var(--secondary);
            transform: translateY(-3px);
        }

        .footer-bottom {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* DEMO MODE NOTIFICATION */
        .demo-notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #f39c12;
            color: white;
            padding: 10px 15px;
            border-radius: 4px;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .demo-toggle {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
        }

        /* RESPONSIVE STYLES */
        @media (max-width: 992px) {
            .hero h1 {
                font-size: 2.8rem;
            }
            
            .nav-links {
                display: none;
            }
            
            .mobile-menu-btn {
                display: block;
            }
            
            .hero-btns {
                flex-direction: column;
                align-items: center;
            }
            
            .hero-btns .btn {
                width: 80%;
                margin-bottom: 10px;
            }
        }

        @media (max-width: 768px) {
            .payment-methods {
                grid-template-columns: 1fr;
            }
            
            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }
            
            .services-grid {
                grid-template-columns: 1fr;
            }
            
            .cart-sidebar {
                max-width: 100%;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }

            .admin-table {
                display: block;
                overflow-x: auto;
                white-space: nowrap;
            }

            .admin-tabs {
                flex-direction: column;
            }

            .admin-tab {
                text-align: center;
            }
        }

        @media (max-width: 576px) {
            .hero h1 {
                font-size: 2.2rem;
            }
            
            .section-title {
                font-size: 1.8rem;
            }
            
            .admin-tabs {
                flex-wrap: wrap;
            }
            
            .admin-tab {
                flex: 1;
                min-width: 120px;
                text-align: center;
            }

            .dashboard-cards {
                grid-template-columns: 1fr;
            }

            .admin-access-btn {
                bottom: 70px;
                right: 15px;
                width: 50px;
                height: 50px;
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <!-- ADMIN ACCESS BUTTON (Hidden by default) -->
    <div class="admin-access-btn" id="admin-access-btn">
        <i class="fas fa-cog"></i>
    </div>

    <!-- ADMIN LOGIN MODAL -->
    <div class="admin-login-modal" id="admin-login-modal">
        <div class="login-box">
            <h2 class="login-title">Admin Login</h2>
            <form id="login-form">
                <div class="form-group">
                    <label class="form-label" for="admin-password">Password</label>
                    <input type="password" class="form-control" id="admin-password" required>
                    <small>Default password: -----------</small>
                </div>
                <div class="form-group">
                    <label class="form-label">       </label>
                    <div>
                        <input type="radio" id="demo-on" name="demo-mode" value="on" checked>
                        <label for="demo-on">On</label>
                        <input type="radio" id="demo-off" name="demo-mode" value="off" style="margin-left: 15px;">
                        <label for="demo-off">Off</label>
                    </div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-outline" id="cancel-login">Cancel</button>
                    <button type="submit" class="btn">Login</button>
                </div>
            </form>
        </div>
    </div>

    <!-- HEADER -->
    <header>
        <div class="container">
            <nav class="navbar">
                <div class="logo">
                    <i class="fas fa-motorcycle"></i>
                    <span>Vishnu Auto</span>
                </div>
                
                <ul class="nav-links">
                    <li><a href="#home">Home</a></li>
                    <li><a href="#services">Services</a></li>
                    <li><a href="#parts">Parts Shop</a></li>
                    <li><a href="#about">About</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
                
                <div class="nav-icons">
                    <div class="nav-icon" id="user-icon">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="nav-icon" id="cart-icon">
                        <i class="fas fa-shopping-cart"></i>
                        <span class="cart-count">0</span>
                    </div>
                    <div class="mobile-menu-btn" id="mobile-menu">
                        <i class="fas fa-bars"></i>
                    </div>
                </div>
            </nav>
        </div>
    </header>

    <!-- HERO SECTION -->
    <section class="hero" id="home">
        <div class="container">
            <div class="hero-content">
                <h1>Vishnu Auto</h1>
                <h1>Premium Bike Repair & Parts</h1>
                <p>Expert service, genuine parts, and quick turnaround for all your two-wheeler needs</p>
                <div class="hero-btns">
                    <a href="#services" class="btn">Book Service</a>
                    <a href="#parts" class="btn btn-secondary">Shop Parts</a>
                </div>
            </div>
        </div>
    </section>

    <!-- SERVICES SECTION -->
    <section id="services">
        <div class="container">
            <h2 class="section-title">Our Services</h2>
            <div class="services-grid" id="services-grid">
                <!-- Services will be dynamically loaded here -->
            </div>
        </div>
    </section>

    <!-- PARTS SHOP -->
    <section id="parts">
        <div class="container">
            <h2 class="section-title">Parts & Accessories</h2>
            
            <div class="parts-filter">
                <button class="filter-btn active" data-filter="all">All Products</button>
                <button class="filter-btn" data-filter="engine">Engine Parts</button>
                <button class="filter-btn" data-filter="brakes">Brakes</button>
                <button class="filter-btn" data-filter="electrical">Electrical</button>
                <button class="filter-btn" data-filter="accessories">Accessories</button>
            </div>
            
            <div class="products-grid" id="products-container">
                <!-- Products will be dynamically loaded here -->
            </div>
        </div>
    </section>

    <!-- CART SIDEBAR -->
    <div class="cart-sidebar" id="cart-sidebar">
        <div class="cart-header">
            <h3>Your Cart</h3>
            <div class="close-cart" id="close-cart">
                <i class="fas fa-times"></i>
            </div>
        </div>
        
        <div class="cart-items" id="cart-items">
            <!-- Cart items will be dynamically loaded here -->
        </div>
        
        <div class="cart-summary">
            <div class="summary-row">
                <span>Subtotal:</span>
                <span id="cart-subtotal">₹0</span>
            </div>
            <div class="summary-row">
                <span>Tax (12%):</span>
                <span id="cart-tax">₹0</span>
            </div>
            <div class="summary-row summary-total">
                <span>Total:</span>
                <span id="cart-total">₹0</span>
            </div>
            
            <div class="promo-code">
                <input type="text" class="promo-input" placeholder="Promo code">
                <button class="apply-promo">Apply</button>
            </div>
            
            <button class="btn" id="checkout-btn">Proceed to Checkout</button>
        </div>
    </div>

    <!-- SERVICE BOOKING MODAL -->
    <div class="modal" id="booking-modal">
        <div class="modal-content">
            <div class="close-modal" id="close-booking">
                <i class="fas fa-times"></i>
            </div>
            <h2>Book Service</h2>
            <form id="booking-form">
                <div class="form-group">
                    <label class="form-label" for="service-type">Service Type</label>
                    <select class="form-control" id="service-type" required>
                        <option value="">Select a service</option>
                        <!-- Options will be populated dynamically -->
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="bike-model">Bike Model</label>
                    <input type="text" class="form-control" id="bike-model" placeholder="e.g., Hero Splendor, Honda Activa" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="service-date">Preferred Date</label>
                    <input type="date" class="form-control" id="service-date" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="service-time">Preferred Time</label>
                    <select class="form-control" id="service-time" required>
                        <option value="">Select time slot</option>
                        <option value="09:00-11:00">09:00 AM - 11:00 AM</option>
                        <option value="11:00-13:00">11:00 AM - 01:00 PM</option>
                        <option value="13:00-15:00">01:00 PM - 03:00 PM</option>
                        <option value="15:00-17:00">03:00 PM - 05:00 PM</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="customer-name">Your Name</label>
                    <input type="text" class="form-control" id="customer-name" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="customer-phone">Phone Number</label>
                    <input type="tel" class="form-control" id="customer-phone" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="customer-email">Email (Optional)</label>
                    <input type="email" class="form-control" id="customer-email">
                </div>
                
                <button type="submit" class="btn">Book Service</button>
            </form>
        </div>
    </div>

    <!-- PRODUCT DETAIL MODAL -->
    <div class="modal" id="product-modal">
        <div class="modal-content">
            <div class="close-modal" id="close-product">
                <i class="fas fa-times"></i>
            </div>
            <div id="product-modal-content">
                <!-- Product details will be dynamically loaded here -->
            </div>
        </div>
    </div>

    <!-- CHECKOUT MODAL -->
    <div class="modal" id="checkout-modal">
        <div class="modal-content">
            <div class="close-modal" id="close-checkout">
                <i class="fas fa-times"></i>
            </div>
            <h2>Checkout</h2>
            
            <div class="checkout-steps">
                <div class="step active" id="step-1">
                    <div class="step-icon">1</div>
                    <span>Details</span>
                </div>
                <div class="step" id="step-2">
                    <div class="step-icon">2</div>
                    <span>Payment</span>
                </div>
                <div class="step" id="step-3">
                    <div class="step-icon">3</div>
                    <span>Confirm</span>
                </div>
            </div>
            
            <div id="checkout-step-1">
                <h3>Shipping Information</h3>
                <form id="checkout-form">
                    <div class="form-group">
                        <label class="form-label" for="checkout-name">Full Name</label>
                        <input type="text" class="form-control" id="checkout-name" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="checkout-phone">Phone Number</label>
                        <input type="tel" class="form-control" id="checkout-phone" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="checkout-email">Email</label>
                        <input type="email" class="form-control" id="checkout-email" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="checkout-address">Address</label>
                        <textarea class="form-control" id="checkout-address" rows="3" required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="checkout-city">City</label>
                        <input type="text" class="form-control" id="checkout-city" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="checkout-pincode">Pincode</label>
                        <input type="text" class="form-control" id="checkout-pincode" required>
                    </div>
                    
                    <button type="button" class="btn" id="continue-to-payment">Continue to Payment</button>
                </form>
            </div>
            
            <div id="checkout-step-2" style="display: none;">
                <h3>Payment Method</h3>
                
                <div class="payment-methods">
                    <div class="payment-method active" data-method="upi">
                        <div class="payment-icon">
                            <i class="fas fa-qrcode"></i>
                        </div>
                        <h4>UPI Payment</h4>
                        <p>Pay using any UPI app</p>
                    </div>
                    
                    <div class="payment-method" data-method="cod">
                        <div class="payment-icon">
                            <i class="fas fa-money-bill-wave"></i>
                        </div>
                        <h4>Cash on Delivery</h4>
                        <p>Pay when you receive</p>
                    </div>
                </div>
                
                <div id="upi-payment" class="payment-details">
                    <div class="upi-qr-container">
                        <h4>Scan to Pay</h4>
                        <div id="upi-qr-code"></div>
                        <p>Or send payment to: <strong id="upi-id">vishnuauto@ybl</strong></p>
                        <p class="small">After payment, share screenshot on WhatsApp for confirmation</p>
                    </div>
                </div>
                
                <div id="cod-payment" class="payment-details" style="display: none;">
                    <div class="alert alert-info">
                        <p>You will pay cash when your order is delivered.</p>
                        <p>Extra ₹30 delivery charges apply for COD orders.</p>
                    </div>
                </div>
                
                <div class="checkout-actions">
                    <button class="btn btn-outline" id="back-to-details">Back</button>
                    <button class="btn" id="place-order">Place Order</button>
                </div>
            </div>
            
            <div id="checkout-step-3" style="display: none;">
                <div class="order-confirmation">
                    <div class="success-icon">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <h3>Order Confirmed!</h3>
                    <p>Thank you for your purchase. Your order has been placed successfully.</p>
                    <p><strong>Order ID:</strong> <span id="order-id">VA2023001</span></p>
                    
                    <div class="order-actions">
                        <button class="btn" id="download-invoice">Download Invoice</button>
                        <button class="btn btn-secondary" id="share-whatsapp">Share on WhatsApp</button>
                        <button class="btn btn-outline" id="continue-shopping">Continue Shopping</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ADMIN PANEL -->
    <section class="admin-panel" id="admin-panel">
        <div class="container">
            <div class="admin-header">
                <h2>Admin Dashboard</h2>
                <div>
                    <button class="btn btn-outline" id="toggle-demo">Demo Mode: ON</button>
                    <button class="btn" id="exit-admin">Exit Admin</button>
                </div>
            </div>
            
            <div class="dashboard-cards">
                <div class="dashboard-card">
                    <div class="card-icon">
                        <i class="fas fa-shopping-cart"></i>
                    </div>
                    <h3>Total Orders</h3>
                    <div class="card-value" id="total-orders">0</div>
                </div>
                
                <div class="dashboard-card">
                    <div class="card-icon">
                        <i class="fas fa-boxes"></i>
                    </div>
                    <h3>Low Stock Items</h3>
                    <div class="card-value" id="low-stock-count">0</div>
                </div>
                
                <div class="dashboard-card">
                    <div class="card-icon">
                        <i class="fas fa-calendar-check"></i>
                    </div>
                    <h3>Pending Bookings</h3>
                    <div class="card-value" id="pending-bookings">0</div>
                </div>
                
                <div class="dashboard-card">
                    <div class="card-icon">
                        <i class="fas fa-rupee-sign"></i>
                    </div>
                    <h3>Revenue</h3>
                    <div class="card-value" id="total-revenue">₹0</div>
                </div>
            </div>
            
            <div class="admin-tabs">
                <div class="admin-tab active" data-tab="products">Products</div>
                <div class="admin-tab" data-tab="services">Services</div>
                <div class="admin-tab" data-tab="orders">Orders</div>
                <div class="admin-tab" data-tab="bookings">Bookings</div>
                <div class="admin-tab" data-tab="settings">Settings</div>
            </div>
            
            <div class="admin-content">
                <!-- PRODUCTS TAB -->
                <div id="admin-products" class="admin-tab-content">
                    <div class="admin-form">
                        <h3 id="product-form-title">Add New Product</h3>
                        <form id="product-form">
                            <input type="hidden" id="product-id">
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label" for="product-name">Product Name</label>
                                    <input type="text" class="form-control" id="product-name" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label" for="product-category">Category</label>
                                    <select class="form-control" id="product-category" required>
                                        <option value="">Select Category</option>
                                        <option value="engine">Engine Parts</option>
                                        <option value="brakes">Brakes</option>
                                        <option value="electrical">Electrical</option>
                                        <option value="accessories">Accessories</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label" for="product-price">Price (₹)</label>
                                    <input type="number" class="form-control" id="product-price" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label" for="product-stock">Stock</label>
                                    <input type="number" class="form-control" id="product-stock" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="product-description">Description</label>
                                <textarea class="form-control" id="product-description" rows="3" required></textarea>
                            </div>
                            <div class="form-actions">
                                <button type="button" class="btn btn-outline" id="cancel-product">Cancel</button>
                                <button type="submit" class="btn">Save Product</button>
                            </div>
                        </form>
                    </div>
                    
                    <h3>Product Management</h3>
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Product Name</th>
                                <th>Category</th>
                                <th>Price</th>
                                <th>Stock</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="products-table-body">
                            <!-- Products will be dynamically loaded here -->
                        </tbody>
                    </table>
                </div>
                
                <!-- SERVICES TAB -->
                <div id="admin-services" class="admin-tab-content" style="display: none;">
                    <div class="admin-form">
                        <h3 id="service-form-title">Add New Service</h3>
                        <form id="service-form">
                            <input type="hidden" id="service-id">
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label" for="service-name">Service Name</label>
                                    <input type="text" class="form-control" id="service-name" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label" for="service-price">Price (₹)</label>
                                    <input type="number" class="form-control" id="service-price" required>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label" for="service-duration">Duration</label>
                                    <input type="text" class="form-control" id="service-duration" placeholder="e.g., 2-3 hours" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label" for="service-status">Status</label>
                                    <select class="form-control" id="service-status" required>
                                        <option value="active">Active</option>
                                        <option value="inactive">Inactive</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="service-description">Description</label>
                                <textarea class="form-control" id="service-description" rows="3" required></textarea>
                            </div>
                            <div class="form-actions">
                                <button type="button" class="btn btn-outline" id="cancel-service">Cancel</button>
                                <button type="submit" class="btn">Save Service</button>
                            </div>
                        </form>
                    </div>
                    
                    <h3>Service Management</h3>
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Service Name</th>
                                <th>Description</th>
                                <th>Price</th>
                                <th>Duration</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="services-table-body">
                            <!-- Services will be dynamically loaded here -->
                        </tbody>
                    </table>
                </div>
                
                <!-- ORDERS TAB -->
                <div id="admin-orders" class="admin-tab-content" style="display: none;">
                    <h3>Order Management</h3>
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>Order ID</th>
                                <th>Customer</th>
                                <th>Date</th>
                                <th>Amount</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="orders-table-body">
                            <!-- Orders will be dynamically loaded here -->
                        </tbody>
                    </table>
                </div>
                
                <!-- BOOKINGS TAB -->
                <div id="admin-bookings" class="admin-tab-content" style="display: none;">
                    <h3>Service Bookings</h3>
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>Booking ID</th>
                                <th>Customer</th>
                                <th>Service</th>
                                <th>Bike Model</th>
                                <th>Date & Time</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="bookings-table-body">
                            <!-- Bookings will be dynamically loaded here -->
                        </tbody>
                    </table>
                </div>
                
                <!-- SETTINGS TAB -->
                <div id="admin-settings" class="admin-tab-content" style="display: none;">
                    <h3>Settings</h3>
                    <div class="admin-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label" for="low-stock-threshold">Low Stock Threshold</label>
                                <input type="number" class="form-control" id="low-stock-threshold" value="5">
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="admin-password">Admin Password</label>
                                <input type="password" class="form-control" id="admin-password-setting" value="admin123">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label" for="upi-id-setting">UPI ID</label>
                                <input type="text" class="form-control" id="upi-id-setting" value="vishnuauto@ybl">
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="whatsapp-number">WhatsApp Number</label>
                                <input type="text" class="form-control" id="whatsapp-number" value="+919876543210">
                            </div>
                        </div>
                        <div class="form-actions">
                            <button class="btn" id="save-settings">Save Settings</button>
                            <button class="btn btn-secondary" id="export-data">Export Data as CSV</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>Vishnu Auto</h3>
                    <p>Your trusted partner for bike repair and genuine parts. We provide quality service with quick turnaround time.</p>
                    <div class="social-links">
                        <a href="#" class="social-link"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>
                
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="#home">Home</a></li>
                        <li><a href="#services">Services</a></li>
                        <li><a href="#parts">Parts Shop</a></li>
                        <li><a href="#about">About Us</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>Services</h3>
                    <ul class="footer-links">
                        <li><a href="#">Bike Servicing</a></li>
                        <li><a href="#">Engine Repair</a></li>
                        <li><a href="#">Painting</a></li>
                        <li><a href="#">Brake Service</a></li>
                        <li><a href="#">Electrical Work</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>Contact Info</h3>
                    <ul class="footer-links">
                        <li><i class="fas fa-map-marker-alt"></i> 123 Auto Nagar, Mumbai</li>
                        <li><i class="fas fa-phone"></i> +91 98765 43210</li>
                        <li><i class="fas fa-envelope"></i> info@vishnuauto.com</li>
                        <li><i class="fas fa-clock"></i> Mon-Sat: 9AM-7PM</li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2023 Vishnu Auto. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- DEMO MODE NOTIFICATION -->
    <div class="demo-notification" id="demo-notification">
        <strong>Demo Mode Active</strong>
        <button class="demo-toggle" id="toggle-demo-notif">Turn Off</button>
    </div>

    <script>
        // ============================================
        // CONFIGURATION & INITIALIZATION
        // ============================================

        // TODO: Replace with real API endpoints in production
        const API_ENDPOINTS = {
            // Customer endpoints
            "BOOK_SERVICE": "/api/book-service",
            "CHECK_SLOTS": "/api/check-slots",
            "PLACE_ORDER": "/api/place-order",
            "GET_ORDERS": "/api/orders",
            
            // Admin endpoints
            "GET_PRODUCTS": "/api/admin/products",
            "UPDATE_PRODUCT": "/api/admin/products",
            "GET_ORDERS_ADMIN": "/api/admin/orders",
            "UPDATE_ORDER": "/api/admin/orders",
            "GET_BOOKINGS": "/api/admin/bookings",
            "UPDATE_BOOKING": "/api/admin/bookings",
            
            // WhatsApp integration
            "NOTIFY_WHATSAPP": "/api/notify-whatsapp",
            "SEND_INVOICE": "/api/send-invoice-whatsapp",
            
            // AI features
            "AI_RECOMMEND": "/api/ai/recommend",
            "AI_DESCRIBE": "/api/ai/describe",
            "AI_FRAUD_CHECK": "/api/ai/fraud-check"
        };

        // App configuration
        let config = {
            // TODO: Replace with actual UPI ID in production
            UPI_ID: 'vishnuauto@ybl',
            
            // TODO: Replace with actual WhatsApp number in production
            WHATSAPP_NUMBER: '+919876543210',
            
            // Demo mode flag - can be toggled
            DEMO_MODE: true,
            
            // Admin password
            ADMIN_PASSWORD: 'admin123',
            
            // Low stock threshold
            LOW_STOCK_THRESHOLD: 5
        };

        // Load config from localStorage if available
        const savedConfig = localStorage.getItem('vishnuAutoConfig');
        if (savedConfig) {
            const parsedConfig = JSON.parse(savedConfig);
            config = { ...config, ...parsedConfig };
        }

        // Mock data storage
        let mockProducts = JSON.parse(localStorage.getItem('vishnuAutoProducts')) || [
            { id: 1, name: 'Engine Oil - 10W40', category: 'engine', price: 350, stock: 15, description: 'High-performance engine oil for all types of motorcycles. Provides excellent engine protection and improves fuel efficiency.' },
            { id: 2, name: 'Brake Pads Set', category: 'brakes', price: 450, stock: 8, description: 'Premium quality brake pads for effective stopping power. Compatible with most bike models.' },
            { id: 3, name: 'Spark Plug', category: 'engine', price: 120, stock: 25, description: 'Iridium spark plug for better ignition and improved fuel efficiency.' },
            { id: 4, name: 'Air Filter', category: 'engine', price: 180, stock: 12, description: 'High-flow air filter for improved engine performance and better mileage.' },
            { id: 5, name: 'Battery - 12V', category: 'electrical', price: 1200, stock: 5, description: 'Maintenance-free battery with long life and reliable performance.' },
            { id: 6, name: 'Headlight Bulb', category: 'electrical', price: 200, stock: 20, description: 'Bright LED headlight bulb for improved visibility during night rides.' },
            { id: 7, name: 'Helmet', category: 'accessories', price: 800, stock: 10, description: 'ISI certified helmet with comfortable padding and secure strap.' },
            { id: 8, name: 'Bike Cover', category: 'accessories', price: 400, stock: 18, description: 'Waterproof bike cover to protect your vehicle from dust and rain.' }
        ];

        let mockServices = JSON.parse(localStorage.getItem('vishnuAutoServices')) || [
            { id: 1, name: 'General Service', description: 'Complete bike servicing including oil change, filter replacement, brake adjustment and overall inspection.', price: 499, duration: '2-3 hours', status: 'active' },
            { id: 2, name: 'Engine Repair', description: 'Expert engine diagnostics and repair services for all types of two-wheelers.', price: 799, duration: '1-2 days', status: 'active' },
            { id: 3, name: 'Painting & Body Work', description: 'Professional painting, dent removal, and body repair to restore your bike\'s appearance.', price: 1299, duration: '2-3 days', status: 'active' },
            { id: 4, name: 'Brake Service', description: 'Complete brake system inspection, pad replacement, and fluid change for optimal stopping power.', price: 399, duration: '1-2 hours', status: 'active' },
            { id: 5, name: 'Electrical Repair', description: 'Diagnosis and repair of electrical issues including battery, lights, and ignition systems.', price: 599, duration: '3-4 hours', status: 'active' }
        ];

        let mockOrders = JSON.parse(localStorage.getItem('vishnuAutoOrders')) || [];
        let mockBookings = JSON.parse(localStorage.getItem('vishnuAutoBookings')) || [];

        // Initialize cart
        let cart = JSON.parse(localStorage.getItem('vishnuAutoCart')) || [];
        let currentOrder = null;

        // ============================================
        // DOM ELEMENTS
        // ============================================

        const elements = {
            // Admin access
            adminAccessBtn: document.getElementById('admin-access-btn'),
            adminLoginModal: document.getElementById('admin-login-modal'),
            loginForm: document.getElementById('login-form'),
            adminPassword: document.getElementById('admin-password'),
            cancelLogin: document.getElementById('cancel-login'),
            
            // Navigation
            cartIcon: document.getElementById('cart-icon'),
            cartCount: document.querySelector('.cart-count'),
            userIcon: document.getElementById('user-icon'),
            mobileMenu: document.getElementById('mobile-menu'),
            
            // Modals
            cartSidebar: document.getElementById('cart-sidebar'),
            closeCart: document.getElementById('close-cart'),
            bookingModal: document.getElementById('booking-modal'),
            closeBooking: document.getElementById('close-booking'),
            productModal: document.getElementById('product-modal'),
            closeProduct: document.getElementById('close-product'),
            checkoutModal: document.getElementById('checkout-modal'),
            closeCheckout: document.getElementById('close-checkout'),
            
            // Content containers
            servicesGrid: document.getElementById('services-grid'),
            productsContainer: document.getElementById('products-container'),
            cartItems: document.getElementById('cart-items'),
            productModalContent: document.getElementById('product-modal-content'),
            
            // Checkout
            checkoutBtn: document.getElementById('checkout-btn'),
            continueToPayment: document.getElementById('continue-to-payment'),
            backToDetails: document.getElementById('back-to-details'),
            placeOrder: document.getElementById('place-order'),
            checkoutForm: document.getElementById('checkout-form'),
            upiQrCode: document.getElementById('upi-qr-code'),
            upiId: document.getElementById('upi-id'),
            orderId: document.getElementById('order-id'),
            downloadInvoice: document.getElementById('download-invoice'),
            shareWhatsapp: document.getElementById('share-whatsapp'),
            continueShopping: document.getElementById('continue-shopping'),
            
            // Admin panel
            adminPanel: document.getElementById('admin-panel'),
            exitAdmin: document.getElementById('exit-admin'),
            toggleDemo: document.getElementById('toggle-demo'),
            adminTabs: document.querySelectorAll('.admin-tab'),
            adminTabContents: document.querySelectorAll('.admin-tab-content'),
            productsTableBody: document.getElementById('products-table-body'),
            servicesTableBody: document.getElementById('services-table-body'),
            ordersTableBody: document.getElementById('orders-table-body'),
            bookingsTableBody: document.getElementById('bookings-table-body'),
            
            // Admin forms
            productForm: document.getElementById('product-form'),
            productFormTitle: document.getElementById('product-form-title'),
            productId: document.getElementById('product-id'),
            productName: document.getElementById('product-name'),
            productCategory: document.getElementById('product-category'),
            productPrice: document.getElementById('product-price'),
            productStock: document.getElementById('product-stock'),
            productDescription: document.getElementById('product-description'),
            cancelProduct: document.getElementById('cancel-product'),
            
            serviceForm: document.getElementById('service-form'),
            serviceFormTitle: document.getElementById('service-form-title'),
            serviceId: document.getElementById('service-id'),
            serviceName: document.getElementById('service-name'),
            servicePrice: document.getElementById('service-price'),
            serviceDuration: document.getElementById('service-duration'),
            serviceStatus: document.getElementById('service-status'),
            serviceDescription: document.getElementById('service-description'),
            cancelService: document.getElementById('cancel-service'),
            
            saveSettings: document.getElementById('save-settings'),
            exportData: document.getElementById('export-data'),
            
            // Dashboard counters
            totalOrders: document.getElementById('total-orders'),
            lowStockCount: document.getElementById('low-stock-count'),
            pendingBookings: document.getElementById('pending-bookings'),
            totalRevenue: document.getElementById('total-revenue'),
            
            // Demo notification
            demoNotification: document.getElementById('demo-notification'),
            toggleDemoNotif: document.getElementById('toggle-demo-notif')
        };

        // ============================================
        // INITIALIZATION
        // ============================================

        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
        });

        function initializeApp() {
            // Load customer-facing content
            renderServices();
            renderProducts();
            
            // Update cart count
            updateCartCount();
            
            // Set up event listeners
            setupEventListeners();
            
            // Generate UPI QR code
            generateUpiQrCode();
            
            // Update demo mode display
            updateDemoModeDisplay();
        }

        function setupEventListeners() {
            // Admin access
            elements.adminAccessBtn.addEventListener('click', openAdminLogin);
            elements.cancelLogin.addEventListener('click', closeAdminLogin);
            elements.loginForm.addEventListener('submit', handleLogin);
            
            // Navigation
            elements.cartIcon.addEventListener('click', toggleCart);
            elements.closeCart.addEventListener('click', toggleCart);
            elements.userIcon.addEventListener('click', toggleUserMenu);
            elements.mobileMenu.addEventListener('click', toggleMobileMenu);
            
            // Service booking
            elements.closeBooking.addEventListener('click', closeBookingModal);
            document.getElementById('booking-form').addEventListener('submit', handleBookingSubmit);
            
            // Product filters
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', filterProducts);
            });
            
            // Checkout
            elements.checkoutBtn.addEventListener('click', openCheckout);
            elements.continueToPayment.addEventListener('click', proceedToPayment);
            elements.backToDetails.addEventListener('click', backToDetails);
            elements.placeOrder.addEventListener('click', placeOrderHandler);
            elements.downloadInvoice.addEventListener('click', downloadInvoice);
            elements.shareWhatsapp.addEventListener('click', shareOnWhatsApp);
            elements.continueShopping.addEventListener('click', continueShopping);
            
            // Payment methods
            document.querySelectorAll('.payment-method').forEach(method => {
                method.addEventListener('click', selectPaymentMethod);
            });
            
            // Admin panel
            elements.exitAdmin.addEventListener('click', exitAdmin);
            elements.toggleDemo.addEventListener('click', toggleDemoMode);
            elements.toggleDemoNotif.addEventListener('click', toggleDemoMode);
            elements.adminTabs.forEach(tab => {
                tab.addEventListener('click', switchAdminTab);
            });
            
            // Admin forms
            elements.productForm.addEventListener('submit', handleProductSubmit);
            elements.cancelProduct.addEventListener('click', resetProductForm);
            elements.serviceForm.addEventListener('submit', handleServiceSubmit);
            elements.cancelService.addEventListener('click', resetServiceForm);
            elements.saveSettings.addEventListener('click', saveAdminSettings);
            elements.exportData.addEventListener('click', exportDataAsCsv);
            
            // Close modals when clicking outside
            window.addEventListener('click', function(event) {
                if (event.target === elements.bookingModal) {
                    closeBookingModal();
                }
                if (event.target === elements.productModal) {
                    closeProductModal();
                }
                if (event.target === elements.checkoutModal) {
                    closeCheckoutModal();
                }
                if (event.target === elements.adminLoginModal) {
                    closeAdminLogin();
                }
            });
        }

        // ============================================
        // ADMIN ACCESS & AUTHENTICATION
        // ============================================

        function openAdminLogin() {
            elements.adminLoginModal.classList.add('active');
        }

        function closeAdminLogin() {
            elements.adminLoginModal.classList.remove('active');
        }

        function handleLogin(e) {
            e.preventDefault();
            
            const password = elements.adminPassword.value;
            const demoMode = document.querySelector('input[name="demo-mode"]:checked').value;
            
            if (password === config.ADMIN_PASSWORD) {
                // Set demo mode
                config.DEMO_MODE = demoMode === 'on';
                saveConfig();
                
                // Show admin panel
                showAdminPanel();
                closeAdminLogin();
            } else {
                alert('Invalid password. Please try again.');
            }
        }

        function showAdminPanel() {
            // Hide main content
            document.querySelector('header').style.display = 'none';
            document.getElementById('home').style.display = 'none';
            document.getElementById('services').style.display = 'none';
            document.getElementById('parts').style.display = 'none';
            document.querySelector('footer').style.display = 'none';
            elements.adminAccessBtn.style.display = 'none';
            
            // Show admin panel
            elements.adminPanel.style.display = 'block';
            
            // Load admin data
            loadAdminData();
            
            // Scroll to top
            window.scrollTo(0, 0);
        }

        function exitAdmin() {
            // Show main content
            document.querySelector('header').style.display = 'block';
            document.getElementById('home').style.display = 'block';
            document.getElementById('services').style.display = 'block';
            document.getElementById('parts').style.display = 'block';
            document.querySelector('footer').style.display = 'block';
            elements.adminAccessBtn.style.display = 'flex';
            
            // Hide admin panel
            elements.adminPanel.style.display = 'none';
        }

        // ============================================
        // DEMO MODE MANAGEMENT
        // ============================================

        function toggleDemoMode() {
            config.DEMO_MODE = !config.DEMO_MODE;
            saveConfig();
            updateDemoModeDisplay();
            
            if (!config.DEMO_MODE) {
                alert('Demo mode is now OFF. The app will now use real API endpoints (if configured).');
            }
        }

        function updateDemoModeDisplay() {
            const status = config.DEMO_MODE ? 'ON' : 'OFF';
            const color = config.DEMO_MODE ? '#f39c12' : '#27ae60';
            
            elements.toggleDemo.textContent = `Demo Mode: ${status}`;
            elements.toggleDemo.style.backgroundColor = color;
            
            // Show/hide demo notification
            elements.demoNotification.style.display = config.DEMO_MODE ? 'flex' : 'none';
        }

        function saveConfig() {
            localStorage.setItem('vishnuAutoConfig', JSON.stringify(config));
        }

        // ============================================
        // SERVICES FUNCTIONALITY
        // ============================================

        function renderServices() {
            elements.servicesGrid.innerHTML = '';
            
            const activeServices = mockServices.filter(service => service.status === 'active');
            
            activeServices.forEach(service => {
                const serviceCard = document.createElement('div');
                serviceCard.className = 'service-card';
                serviceCard.innerHTML = `
                    <div class="service-icon">
                        <i class="fas fa-tools"></i>
                    </div>
                    <div class="service-content">
                        <h3>${service.name}</h3>
                        <p>${service.description}</p>
                        <p class="service-price">Starting at ₹${service.price}</p>
                        <button class="btn btn-outline book-service" data-id="${service.id}">Book Now</button>
                    </div>
                `;
                
                elements.servicesGrid.appendChild(serviceCard);
            });
            
            // Add event listeners to service buttons
            document.querySelectorAll('.book-service').forEach(btn => {
                btn.addEventListener('click', function() {
                    const serviceId = parseInt(this.getAttribute('data-id'));
                    openBookingModal(serviceId);
                });
            });
            
            // Populate service dropdown in booking form
            const serviceTypeSelect = document.getElementById('service-type');
            serviceTypeSelect.innerHTML = '<option value="">Select a service</option>';
            activeServices.forEach(service => {
                const option = document.createElement('option');
                option.value = service.id;
                option.textContent = service.name;
                serviceTypeSelect.appendChild(option);
            });
        }

        function openBookingModal(serviceId = null) {
            if (serviceId) {
                document.getElementById('service-type').value = serviceId;
            }
            elements.bookingModal.classList.add('active');
        }

        function closeBookingModal() {
            elements.bookingModal.classList.remove('active');
        }

        function handleBookingSubmit(e) {
            e.preventDefault();
            
            const serviceId = parseInt(document.getElementById('service-type').value);
            const service = mockServices.find(s => s.id === serviceId);
            
            const formData = {
                serviceId: serviceId,
                serviceName: service ? service.name : '',
                bikeModel: document.getElementById('bike-model').value,
                serviceDate: document.getElementById('service-date').value,
                serviceTime: document.getElementById('service-time').value,
                customerName: document.getElementById('customer-name').value,
                customerPhone: document.getElementById('customer-phone').value,
                customerEmail: document.getElementById('customer-email').value,
                status: 'pending',
                bookingId: 'BK' + Date.now()
            };
            
            // Save booking to local storage
            mockBookings.push(formData);
            localStorage.setItem('vishnuAutoBookings', JSON.stringify(mockBookings));
            
            showNotification('Service booked successfully! We will contact you soon.');
            closeBookingModal();
            
            // Simulate WhatsApp notification
            simulateWhatsAppNotification('booking', formData);
            
            // Refresh admin data if on admin panel
            if (elements.adminPanel.style.display === 'block') {
                loadAdminData();
            }
            
            // TODO: In production, send to actual API endpoint
            if (!config.DEMO_MODE) {
                // Optional: Send to backend
                fetch(API_ENDPOINTS.BOOK_SERVICE, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(formData)
                })
                .catch(error => {
                    // Log error but don't show alert since booking is already saved locally
                    console.error('Optional API notification failed:', error);
                });
            }
        }

        // ============================================
        // PRODUCTS & SHOP FUNCTIONALITY
        // ============================================

        function renderProducts(filter = 'all') {
            elements.productsContainer.innerHTML = '';
            
            const filteredProducts = filter === 'all' 
                ? mockProducts 
                : mockProducts.filter(product => product.category === filter);
            
            filteredProducts.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.innerHTML = `
                    <div class="product-img">
                        <i class="fas fa-${getProductIcon(product.category)} fa-3x" style="color: #ddd;"></i>
                    </div>
                    <div class="product-content">
                        <h3>${product.name}</h3>
                        <p class="product-price">₹${product.price}</p>
                        <div class="product-actions">
                            <button class="btn btn-outline view-product" data-id="${product.id}">View Details</button>
                            <button class="btn add-to-cart" data-id="${product.id}">Add to Cart</button>
                        </div>
                    </div>
                `;
                
                elements.productsContainer.appendChild(productCard);
            });
            
            // Add event listeners to new buttons
            document.querySelectorAll('.view-product').forEach(btn => {
                btn.addEventListener('click', function() {
                    const productId = parseInt(this.getAttribute('data-id'));
                    openProductModal(productId);
                });
            });
            
            document.querySelectorAll('.add-to-cart').forEach(btn => {
                btn.addEventListener('click', function() {
                    const productId = parseInt(this.getAttribute('data-id'));
                    addToCart(productId);
                });
            });
        }

        function getProductIcon(category) {
            const icons = {
                engine: 'cog',
                brakes: 'stop-circle',
                electrical: 'bolt',
                accessories: 'motorcycle'
            };
            return icons[category] || 'box';
        }

        function filterProducts() {
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            this.classList.add('active');
            const filter = this.getAttribute('data-filter');
            renderProducts(filter);
        }

        function openProductModal(productId) {
            const product = mockProducts.find(p => p.id === productId);
            if (!product) return;
            
            elements.productModalContent.innerHTML = `
                <h2>${product.name}</h2>
                <div class="product-img" style="height: 200px; margin: 20px 0;">
                    <i class="fas fa-${getProductIcon(product.category)} fa-5x" style="color: #ddd;"></i>
                </div>
                <p>${product.description}</p>
                <p class="product-price" style="font-size: 1.5rem; margin: 20px 0;">₹${product.price}</p>
                <p><strong>Stock:</strong> ${product.stock} units</p>
                <div style="display: flex; gap: 10px; margin-top: 20px;">
                    <button class="btn add-to-cart-modal" data-id="${product.id}">Add to Cart</button>
                    <button class="btn btn-secondary buy-now" data-id="${product.id}">Buy Now</button>
                </div>
            `;
            
            elements.productModal.classList.add('active');
            
            // Add event listeners
            document.querySelector('.add-to-cart-modal').addEventListener('click', function() {
                addToCart(productId);
                closeProductModal();
            });
            
            document.querySelector('.buy-now').addEventListener('click', function() {
                addToCart(productId);
                closeProductModal();
                // Only auto-open cart on desktop, not on mobile
                if (window.innerWidth >= 768) {
                    toggleCart();
                }
            });
        }

        function closeProductModal() {
            elements.productModal.classList.remove('active');
        }

        // ============================================
        // CART FUNCTIONALITY
        // ============================================

        function addToCart(productId) {
            const product = mockProducts.find(p => p.id === productId);
            if (!product) return;
            
            // Check if product already in cart
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                if (existingItem.quantity < product.stock) {
                    existingItem.quantity += 1;
                } else {
                    alert(`Only ${product.stock} units available in stock.`);
                    return;
                }
            } else {
                if (product.stock > 0) {
                    cart.push({
                        id: product.id,
                        name: product.name,
                        price: product.price,
                        quantity: 1,
                        image: product.image
                    });
                } else {
                    alert('This product is out of stock.');
                    return;
                }
            }
            
            updateCart();
            updateCartCount();
            showNotification('Product added to cart!');
        }

        function updateCart() {
            // Save to localStorage
            localStorage.setItem('vishnuAutoCart', JSON.stringify(cart));
            
            // Update cart UI
            renderCartItems();
            
            // Update cart totals
            updateCartTotals();
        }

        function renderCartItems() {
            elements.cartItems.innerHTML = '';
            
            if (cart.length === 0) {
                elements.cartItems.innerHTML = '<p>Your cart is empty</p>';
                return;
            }
            
            cart.forEach(item => {
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.innerHTML = `
                    <div class="cart-item-img">
                        <i class="fas fa-box fa-2x" style="color: #ddd;"></i>
                    </div>
                    <div class="cart-item-details">
                        <div class="cart-item-title">${item.name}</div>
                        <div class="cart-item-price">₹${item.price}</div>
                        <div class="cart-item-actions">
                            <button class="quantity-btn decrease" data-id="${item.id}">-</button>
                            <input type="number" class="quantity-input" value="${item.quantity}" min="1" data-id="${item.id}">
                            <button class="quantity-btn increase" data-id="${item.id}">+</button>
                            <button class="remove-item" data-id="${item.id}"><i class="fas fa-trash"></i></button>
                        </div>
                    </div>
                `;
                
                elements.cartItems.appendChild(cartItem);
            });
            
            // Add event listeners to cart items
            document.querySelectorAll('.decrease').forEach(btn => {
                btn.addEventListener('click', function() {
                    const productId = parseInt(this.getAttribute('data-id'));
                    decreaseQuantity(productId);
                });
            });
            
            document.querySelectorAll('.increase').forEach(btn => {
                btn.addEventListener('click', function() {
                    const productId = parseInt(this.getAttribute('data-id'));
                    increaseQuantity(productId);
                });
            });
            
            document.querySelectorAll('.quantity-input').forEach(input => {
                input.addEventListener('change', function() {
                    const productId = parseInt(this.getAttribute('data-id'));
                    const newQuantity = parseInt(this.value);
                    updateQuantity(productId, newQuantity);
                });
            });
            
            document.querySelectorAll('.remove-item').forEach(btn => {
                btn.addEventListener('click', function() {
                    const productId = parseInt(this.getAttribute('data-id'));
                    removeFromCart(productId);
                });
            });
        }

        function updateCartTotals() {
            const subtotal = cart.reduce((total, item) => total + (item.price * item.quantity), 0);
            const tax = subtotal * 0.18;
            const total = subtotal + tax;
            
            document.getElementById('cart-subtotal').textContent = `₹${subtotal.toFixed(2)}`;
            document.getElementById('cart-tax').textContent = `₹${tax.toFixed(2)}`;
            document.getElementById('cart-total').textContent = `₹${total.toFixed(2)}`;
        }

        function updateCartCount() {
            const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
            elements.cartCount.textContent = totalItems;
        }

        function decreaseQuantity(productId) {
            const item = cart.find(item => item.id === productId);
            if (item && item.quantity > 1) {
                item.quantity -= 1;
                updateCart();
            }
        }

        function increaseQuantity(productId) {
            const item = cart.find(item => item.id === productId);
            const product = mockProducts.find(p => p.id === productId);
            
            if (item && product) {
                if (item.quantity < product.stock) {
                    item.quantity += 1;
                    updateCart();
                } else {
                    alert(`Only ${product.stock} units available in stock.`);
                }
            }
        }

        function updateQuantity(productId, newQuantity) {
            const item = cart.find(item => item.id === productId);
            const product = mockProducts.find(p => p.id === productId);
            
            if (item && product) {
                if (newQuantity <= 0) {
                    removeFromCart(productId);
                } else if (newQuantity <= product.stock) {
                    item.quantity = newQuantity;
                    updateCart();
                } else {
                    alert(`Only ${product.stock} units available in stock.`);
                    item.quantity = product.stock;
                    updateCart();
                }
            }
        }

        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            updateCart();
            updateCartCount();
        }

        function toggleCart() {
            elements.cartSidebar.classList.toggle('active');
        }

        // ============================================
        // CHECKOUT & PAYMENT FUNCTIONALITY
        // ============================================

        function openCheckout() {
            if (cart.length === 0) {
                alert('Your cart is empty. Add some products first.');
                return;
            }
            
            elements.checkoutModal.classList.add('active');
            resetCheckoutSteps();
        }

        function closeCheckoutModal() {
            elements.checkoutModal.classList.remove('active');
        }

        function resetCheckoutSteps() {
            // Reset to step 1
            document.getElementById('checkout-step-1').style.display = 'block';
            document.getElementById('checkout-step-2').style.display = 'none';
            document.getElementById('checkout-step-3').style.display = 'none';
            
            // Update step indicators
            document.getElementById('step-1').classList.add('active');
            document.getElementById('step-2').classList.remove('active', 'completed');
            document.getElementById('step-3').classList.remove('active', 'completed');
        }

        function proceedToPayment() {
            // Validate form
            if (!elements.checkoutForm.checkValidity()) {
                elements.checkoutForm.reportValidity();
                return;
            }
            
            // Move to step 2
            document.getElementById('checkout-step-1').style.display = 'none';
            document.getElementById('checkout-step-2').style.display = 'block';
            
            // Update step indicators
            document.getElementById('step-1').classList.remove('active');
            document.getElementById('step-1').classList.add('completed');
            document.getElementById('step-2').classList.add('active');
        }

        function backToDetails() {
            // Move back to step 1
            document.getElementById('checkout-step-1').style.display = 'block';
            document.getElementById('checkout-step-2').style.display = 'none';
            
            // Update step indicators
            document.getElementById('step-1').classList.add('active');
            document.getElementById('step-2').classList.remove('active');
            document.getElementById('step-1').classList.remove('completed');
        }

        function selectPaymentMethod() {
            document.querySelectorAll('.payment-method').forEach(method => {
                method.classList.remove('active');
            });
            
            this.classList.add('active');
            
            const method = this.getAttribute('data-method');
            
            // Show corresponding payment details
            if (method === 'upi') {
                document.getElementById('upi-payment').style.display = 'block';
                document.getElementById('cod-payment').style.display = 'none';
            } else if (method === 'cod') {
                document.getElementById('upi-payment').style.display = 'none';
                document.getElementById('cod-payment').style.display = 'block';
            }
        }

        function placeOrderHandler() {
            const selectedMethod = document.querySelector('.payment-method.active').getAttribute('data-method');
            
            // Get customer details
            const customerDetails = {
                name: document.getElementById('checkout-name').value,
                phone: document.getElementById('checkout-phone').value,
                email: document.getElementById('checkout-email').value,
                address: document.getElementById('checkout-address').value,
                city: document.getElementById('checkout-city').value,
                pincode: document.getElementById('checkout-pincode').value
            };
            
            // Calculate order total
            const subtotal = cart.reduce((total, item) => total + (item.price * item.quantity), 0);
            const tax = subtotal * 0.18;
            const total = subtotal + tax;
            
            // Create order object
            const order = {
                id: generateOrderId(),
                date: new Date().toISOString().split('T')[0],
                customer: customerDetails,
                items: [...cart],
                subtotal: subtotal,
                tax: tax,
                total: total,
                paymentMethod: selectedMethod,
                status: selectedMethod === 'cod' ? 'Pending' : 'Paid'
            };
            
            // In demo mode and production, process order locally
            // The order is saved to localStorage and backend can sync later
            processOrder(order);
            
            // TODO: In production, optionally send to actual API endpoint
            if (!config.DEMO_MODE) {
                // Optional: Send to backend
                fetch(API_ENDPOINTS.PLACE_ORDER, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(order)
                })
                .catch(error => {
                    // Log error but don't show alert since order is already saved locally
                    console.error('Optional API notification failed:', error);
                });
            }
        }

        function processOrder(order) {
            // Save order to localStorage
            mockOrders.push(order);
            localStorage.setItem('vishnuAutoOrders', JSON.stringify(mockOrders));
            
            // Update stock levels
            order.items.forEach(item => {
                const product = mockProducts.find(p => p.id === item.id);
                if (product) {
                    product.stock -= item.quantity;
                }
            });
            
            // Save updated products
            localStorage.setItem('vishnuAutoProducts', JSON.stringify(mockProducts));
            
            // Set current order for confirmation
            currentOrder = order;
            
            // Move to confirmation step
            document.getElementById('checkout-step-2').style.display = 'none';
            document.getElementById('checkout-step-3').style.display = 'block';
            
            // Update step indicators
            document.getElementById('step-2').classList.remove('active');
            document.getElementById('step-2').classList.add('completed');
            document.getElementById('step-3').classList.add('active');
            
            // Display order ID
            document.getElementById('order-id').textContent = order.id;
            
            // Clear cart
            cart = [];
            updateCart();
            updateCartCount();
            
            // Close cart sidebar if open
            elements.cartSidebar.classList.remove('active');
            
            // Send WhatsApp notification
            simulateWhatsAppNotification('order', order);
            
            // Refresh admin data if on admin panel
            if (elements.adminPanel.style.display === 'block') {
                loadAdminData();
            }
        }

        function generateOrderId() {
            const timestamp = new Date().getTime();
            const random = Math.floor(Math.random() * 1000);
            return `VA${timestamp}${random}`;
        }

        function generateUpiQrCode() {
            // Generate UPI QR code
            const qr = qrcode(0, 'M');
            qr.addData(`upi://pay?pa=${config.UPI_ID}&pn=Vishnu%20Auto&am=${calculateCartTotal()}&cu=INR`);
            qr.make();
            
            elements.upiQrCode.innerHTML = qr.createImgTag(5);
            elements.upiId.textContent = config.UPI_ID;
        }

        function calculateCartTotal() {
            const subtotal = cart.reduce((total, item) => total + (item.price * item.quantity), 0);
            const tax = subtotal * 0.18;
            return subtotal + tax;
        }

        function downloadInvoice() {
            if (!currentOrder) return;
            
            // Create PDF invoice
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            // Add company header
            doc.setFontSize(20);
            doc.setTextColor(44, 62, 80);
            doc.text('VISHNU AUTO', 105, 20, { align: 'center' });
            
            doc.setFontSize(12);
            doc.setTextColor(100, 100, 100);
            doc.text('Bike Repair & Parts', 105, 28, { align: 'center' });
            doc.text('Katras,DHANBAD, | +91 9905656116', 105, 34, { align: 'center' });
            
            // Add invoice title
            doc.setFontSize(16);
            doc.setTextColor(0, 0, 0);
            doc.text('INVOICE', 105, 50, { align: 'center' });
            
            // Add order details
            doc.setFontSize(10);
            doc.text(`Order ID: ${currentOrder.id}`, 20, 65);
            doc.text(`Date: ${currentOrder.date}`, 20, 72);
            doc.text(`Customer: ${currentOrder.customer.name}`, 20, 79);
            doc.text(`Phone: ${currentOrder.customer.phone}`, 20, 86);
            
            // Add table headers
            doc.autoTable({
                startY: 95,
                head: [['Item', 'Qty', 'Price', 'Total']],
                body: currentOrder.items.map(item => [
                    item.name,
                    item.quantity,
                    `₹${item.price}`,
                    `₹${(item.price * item.quantity).toFixed(2)}`
                ]),
                theme: 'grid',
                styles: { fontSize: 10 },
                headStyles: { fillColor: [44, 62, 80] }
            });
            
            // Add totals
            const finalY = doc.lastAutoTable.finalY + 10;
            doc.text(`Subtotal: ₹${currentOrder.subtotal.toFixed(2)}`, 150, finalY, { align: 'right' });
            doc.text(`Tax (12%): ₹${currentOrder.tax.toFixed(2)}`, 150, finalY + 7, { align: 'right' });
            doc.text(`Total: ₹${currentOrder.total.toFixed(2)}`, 150, finalY + 17, { align: 'right' });
            
            // Add footer
            doc.setFontSize(8);
            doc.setTextColor(100, 100, 100);
            doc.text('Thank you for your business!', 105, finalY + 35, { align: 'center' });
            doc.text('GSTIN: 27ABCDE1234F1Z5', 105, finalY + 40, { align: 'center' });
            
            // Save the PDF
            doc.save(`invoice-${currentOrder.id}.pdf`);
        }

        function shareOnWhatsApp() {
            if (!currentOrder) return;
            
            const message = `Order Confirmation - Vishnu Auto%0A%0AOrder ID: ${currentOrder.id}%0ATotal: ₹${currentOrder.total.toFixed(2)}%0A%0AThank you for your purchase!`;
            const url = `https://wa.me/${config.WHATSAPP_NUMBER}?text=${message}`;
            
            window.open(url, '_blank');
        }

        function continueShopping() {
            closeCheckoutModal();
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // ============================================
        // ADMIN PANEL FUNCTIONALITY
        // ============================================

        function switchAdminTab() {
            const tabId = this.getAttribute('data-tab');
            
            // Update active tab
            elements.adminTabs.forEach(tab => {
                tab.classList.remove('active');
            });
            this.classList.add('active');
            
            // Show corresponding content
            elements.adminTabContents.forEach(content => {
                content.style.display = 'none';
            });
            document.getElementById(`admin-${tabId}`).style.display = 'block';
            
            // Load data if needed
            if (tabId === 'products') {
                renderAdminProducts();
            } else if (tabId === 'services') {
                renderAdminServices();
            } else if (tabId === 'orders') {
                renderAdminOrders();
            } else if (tabId === 'bookings') {
                renderAdminBookings();
            }
        }

        function loadAdminData() {
            // Update dashboard counters
            updateDashboardCounters();
            
            // Render initial data
            renderAdminProducts();
        }

        function updateDashboardCounters() {
            elements.totalOrders.textContent = mockOrders.length;
            elements.lowStockCount.textContent = mockProducts.filter(p => p.stock < config.LOW_STOCK_THRESHOLD).length;
            elements.pendingBookings.textContent = mockBookings.filter(b => b.status === 'pending').length;
            
            const revenue = mockOrders.reduce((total, order) => total + order.total, 0);
            elements.totalRevenue.textContent = `₹${revenue.toFixed(2)}`;
        }

        // PRODUCTS MANAGEMENT

        function renderAdminProducts() {
            elements.productsTableBody.innerHTML = '';
            
            mockProducts.forEach(product => {
                const statusClass = product.stock === 0 ? 'out-of-stock' : 
                                  product.stock < config.LOW_STOCK_THRESHOLD ? 'low-stock' : '';
                const statusText = product.stock === 0 ? 'Out of Stock' : 
                                  product.stock < config.LOW_STOCK_THRESHOLD ? 'Low Stock' : 'In Stock';
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${product.id}</td>
                    <td>${product.name}</td>
                    <td>${product.category}</td>
                    <td>₹${product.price}</td>
                    <td class="${statusClass}">${product.stock}</td>
                    <td class="${statusClass}">${statusText}</td>
                    <td class="table-actions">
                        <button class="action-btn edit-btn" data-id="${product.id}">Edit</button>
                        <button class="action-btn delete-btn" data-id="${product.id}">Delete</button>
                    </td>
                `;
                
                elements.productsTableBody.appendChild(row);
            });
            
            // Add event listeners to action buttons
            document.querySelectorAll('.edit-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const productId = parseInt(this.getAttribute('data-id'));
                    editProduct(productId);
                });
            });
            
            document.querySelectorAll('.delete-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const productId = parseInt(this.getAttribute('data-id'));
                    deleteProduct(productId);
                });
            });
        }

        function handleProductSubmit(e) {
            e.preventDefault();
            
            const productId = elements.productId.value;
            const productData = {
                name: elements.productName.value,
                category: elements.productCategory.value,
                price: parseFloat(elements.productPrice.value),
                stock: parseInt(elements.productStock.value),
                description: elements.productDescription.value
            };
            
            if (productId) {
                // Update existing product
                const index = mockProducts.findIndex(p => p.id === parseInt(productId));
                if (index !== -1) {
                    mockProducts[index] = { ...mockProducts[index], ...productData };
                }
            } else {
                // Add new product
                const newId = mockProducts.length > 0 ? Math.max(...mockProducts.map(p => p.id)) + 1 : 1;
                mockProducts.push({
                    id: newId,
                    ...productData
                });
            }
            
            // Save to localStorage
            localStorage.setItem('vishnuAutoProducts', JSON.stringify(mockProducts));
            
            // Reset form and refresh table
            resetProductForm();
            renderAdminProducts();
            renderProducts(); // Refresh customer view
            
            // Update dashboard
            updateDashboardCounters();
            
            showNotification('Product saved successfully!');
        }

        function editProduct(productId) {
            const product = mockProducts.find(p => p.id === productId);
            if (product) {
                elements.productFormTitle.textContent = 'Edit Product';
                elements.productId.value = product.id;
                elements.productName.value = product.name;
                elements.productCategory.value = product.category;
                elements.productPrice.value = product.price;
                elements.productStock.value = product.stock;
                elements.productDescription.value = product.description;
                
                // Scroll to form
                elements.productForm.scrollIntoView({ behavior: 'smooth' });
            }
        }

        function deleteProduct(productId) {
            if (confirm('Are you sure you want to delete this product?')) {
                mockProducts = mockProducts.filter(p => p.id !== productId);
                localStorage.setItem('vishnuAutoProducts', JSON.stringify(mockProducts));
                renderAdminProducts();
                renderProducts(); // Refresh customer view
                updateDashboardCounters();
                showNotification('Product deleted successfully!');
            }
        }

        function resetProductForm() {
            elements.productForm.reset();
            elements.productId.value = '';
            elements.productFormTitle.textContent = 'Add New Product';
        }

        // SERVICES MANAGEMENT

        function renderAdminServices() {
            elements.servicesTableBody.innerHTML = '';
            
            mockServices.forEach(service => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${service.id}</td>
                    <td>${service.name}</td>
                    <td>${service.description.substring(0, 50)}...</td>
                    <td>₹${service.price}</td>
                    <td>${service.duration}</td>
                    <td>${service.status}</td>
                    <td class="table-actions">
                        <button class="action-btn edit-btn" data-id="${service.id}">Edit</button>
                        <button class="action-btn delete-btn" data-id="${service.id}">Delete</button>
                    </td>
                `;
                
                elements.servicesTableBody.appendChild(row);
            });
            
            // Add event listeners to action buttons
            document.querySelectorAll('.edit-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const serviceId = parseInt(this.getAttribute('data-id'));
                    editService(serviceId);
                });
            });
            
            document.querySelectorAll('.delete-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const serviceId = parseInt(this.getAttribute('data-id'));
                    deleteService(serviceId);
                });
            });
        }

        function handleServiceSubmit(e) {
            e.preventDefault();
            
            const serviceId = elements.serviceId.value;
            const serviceData = {
                name: elements.serviceName.value,
                description: elements.serviceDescription.value,
                price: parseFloat(elements.servicePrice.value),
                duration: elements.serviceDuration.value,
                status: elements.serviceStatus.value
            };
            
            if (serviceId) {
                // Update existing service
                const index = mockServices.findIndex(s => s.id === parseInt(serviceId));
                if (index !== -1) {
                    mockServices[index] = { ...mockServices[index], ...serviceData };
                }
            } else {
                // Add new service
                const newId = mockServices.length > 0 ? Math.max(...mockServices.map(s => s.id)) + 1 : 1;
                mockServices.push({
                    id: newId,
                    ...serviceData
                });
            }
            
            // Save to localStorage
            localStorage.setItem('vishnuAutoServices', JSON.stringify(mockServices));
            
            // Reset form and refresh table
            resetServiceForm();
            renderAdminServices();
            renderServices(); // Refresh customer view
            
            showNotification('Service saved successfully!');
        }

        function editService(serviceId) {
            const service = mockServices.find(s => s.id === serviceId);
            if (service) {
                elements.serviceFormTitle.textContent = 'Edit Service';
                elements.serviceId.value = service.id;
                elements.serviceName.value = service.name;
                elements.servicePrice.value = service.price;
                elements.serviceDuration.value = service.duration;
                elements.serviceStatus.value = service.status;
                elements.serviceDescription.value = service.description;
                
                // Scroll to form
                elements.serviceForm.scrollIntoView({ behavior: 'smooth' });
            }
        }

        function deleteService(serviceId) {
            if (confirm('Are you sure you want to delete this service?')) {
                mockServices = mockServices.filter(s => s.id !== serviceId);
                localStorage.setItem('vishnuAutoServices', JSON.stringify(mockServices));
                renderAdminServices();
                renderServices(); // Refresh customer view
                showNotification('Service deleted successfully!');
            }
        }

        function resetServiceForm() {
            elements.serviceForm.reset();
            elements.serviceId.value = '';
            elements.serviceFormTitle.textContent = 'Add New Service';
            elements.serviceStatus.value = 'active';
        }

        // ORDERS MANAGEMENT

        function renderAdminOrders() {
            elements.ordersTableBody.innerHTML = '';
            
            mockOrders.forEach(order => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${order.id}</td>
                    <td>${order.customer.name}</td>
                    <td>${order.date}</td>
                    <td>₹${order.total.toFixed(2)}</td>
                    <td>${order.status}</td>
                    <td class="table-actions">
                        <button class="action-btn edit-btn" data-id="${order.id}">View</button>
                        <button class="action-btn delete-btn" data-id="${order.id}">Update</button>
                    </td>
                `;
                
                elements.ordersTableBody.appendChild(row);
            });
        }

        // BOOKINGS MANAGEMENT

        function renderAdminBookings() {
            elements.bookingsTableBody.innerHTML = '';
            
            mockBookings.forEach(booking => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${booking.bookingId}</td>
                    <td>${booking.customerName}</td>
                    <td>${booking.serviceName}</td>
                    <td>${booking.bikeModel}</td>
                    <td>${booking.serviceDate} ${booking.serviceTime}</td>
                    <td>${booking.status}</td>
                    <td class="table-actions">
                        <button class="action-btn edit-btn" data-id="${booking.bookingId}">View</button>
                        <button class="action-btn delete-btn" data-id="${booking.bookingId}">Update</button>
                    </td>
                `;
                
                elements.bookingsTableBody.appendChild(row);
            });
        }

        // SETTINGS MANAGEMENT

        function saveAdminSettings() {
            config.LOW_STOCK_THRESHOLD = parseInt(document.getElementById('low-stock-threshold').value);
            config.ADMIN_PASSWORD = document.getElementById('admin-password-setting').value;
            config.UPI_ID = document.getElementById('upi-id-setting').value;
            config.WHATSAPP_NUMBER = document.getElementById('whatsapp-number').value;
            
            saveConfig();
            updateDashboardCounters();
            showNotification('Settings saved successfully!');
        }

        function exportDataAsCsv() {
            // Create CSV content
            let csvContent = "data:text/csv;charset=utf-8,";
            
            // Products CSV
            csvContent += "Products\n";
            csvContent += "ID,Name,Category,Price,Stock,Description\n";
            mockProducts.forEach(product => {
                csvContent += `${product.id},${product.name},${product.category},${product.price},${product.stock},"${product.description}"\n`;
            });
            
            csvContent += "\nServices\n";
            csvContent += "ID,Name,Price,Duration,Status,Description\n";
            mockServices.forEach(service => {
                csvContent += `${service.id},${service.name},${service.price},${service.duration},${service.status},"${service.description}"\n`;
            });
            
            csvContent += "\nOrders\n";
            csvContent += "ID,Customer,Date,Total,Status\n";
            mockOrders.forEach(order => {
                csvContent += `${order.id},${order.customer.name},${order.date},${order.total},${order.status}\n`;
            });
            
            csvContent += "\nBookings\n";
            csvContent += "ID,Customer,Service,Bike Model,Date,Time,Status\n";
            mockBookings.forEach(booking => {
                csvContent += `${booking.bookingId},${booking.customerName},${booking.serviceName},${booking.bikeModel},${booking.serviceDate},${booking.serviceTime},${booking.status}\n`;
            });
            
            // Create download link
            const encodedUri = encodeURI(csvContent);
            const link = document.createElement("a");
            link.setAttribute("href", encodedUri);
            link.setAttribute("download", "vishnu_auto_data.csv");
            document.body.appendChild(link);
            
            // Trigger download
            link.click();
            document.body.removeChild(link);
            
            showNotification('Data exported successfully!');
        }

        // ============================================
        // NOTIFICATIONS & UTILITIES
        // ============================================

        function showNotification(message) {
            // Create notification element
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 100px;
                right: 20px;
                background: var(--success);
                color: white;
                padding: 15px 20px;
                border-radius: 4px;
                box-shadow: var(--shadow);
                z-index: 1000;
                transition: var(--transition);
            `;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            // Remove after 3 seconds
            setTimeout(() => {
                notification.style.opacity = '0';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        function simulateWhatsAppNotification(type, data) {
            // In demo mode, we just log the notification
            console.log(`WhatsApp Notification (${type}):`, data);
            
            // In production, this would call the actual API
            /*
            fetch(API_ENDPOINTS.NOTIFY_WHATSAPP, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    type: type,
                    data: data,
                    timestamp: new Date().toISOString()
                })
            })
            .then(response => response.json())
            .then(result => {
                console.log('WhatsApp notification sent:', result);
            })
            .catch(error => {
                console.error('Error sending WhatsApp notification:', error);
            });
            */
        }

        function toggleUserMenu() {
            // For demo purposes, we'll show the admin panel
            openAdminLogin();
        }

        function toggleMobileMenu() {
            // In a real app, this would toggle the mobile menu
            alert('Mobile menu would open in a fully implemented version.');
        }
    </script>
</body>
</html>